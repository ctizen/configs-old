;; Fonts
(defvar *selected-font* "PragmataPro-11")
(defvar *selected-font-family* "PragmataPro")
(set-frame-font *selected-font*)
(set-face-attribute 'default t :font *selected-font* )
(set-frame-font *selected-font* nil t)
(add-to-list 'default-frame-alist '(font . *selected-font*))

;; PRETTIFY SYMBOLS (with Pragmata Pro)
(defun setup-pragmata-ligatures ()
  (setq prettify-symbols-alist
        (append prettify-symbols-alist
                '(("!!"   . ?)
                  ("!="   . ?)
                  ("!=="  . ?)
                  ("!≡"   . ?)
                  ("!≡≡"  . ?)
                  ("!>"   . ?)
                  ("#("   . ?)
                  ("#_"   . ?)
                  ("#{"   . ?)
                  ("#?"   . ?)
                  ("#>"   . ?)
                  ("%="   . ?)
                  ("%>"   . ?)
                  ("<~"   . ?)
                  ("&%"   . ?)
                  ("&&"   . ?)
                  ("&*"   . ?)
                  ("&+"   . ?)
                  ("&-"   . ?)
                  ("&/"   . ?)
                  ("&="   . ?)
                  ("&&&"  . ?)
                  ("&>"   . ?)
                  ("$>"   . ?)
                  ("~>"   . ?)
                  ;; ("***"  . ?) ; I prefer not to use this one
                  ("*="   . ?)
                  ("*/"   . ?)
                  ("*>"   . ?)
                  ("++"   . ?)
                  ("+++"  . ?)
                  ("+="   . ?)
                  ("+>"   . ?)
                  ("--"   . ?)
                  ("-<"   . ?)
                  ("-<<"  . ?)
                  ("-="   . ?)
                  ("->>"  . ?)
                  ("---"  . ?)
                  ("-->"  . ?)
                  (".."   . ?)
                  ("..."  . ?)
                  ("..<"  . ?)
                  (".>"   . ?)
                  (".~"   . ?)
                  (".="   . ?)
                  ("/*"   . ?)
                  ("//"   . ?)
                  ("/>"   . ?)
                  ("/="   . ?)
                  ("/=="  . ?)
                  ("///"  . ?)
                  ("/**"  . ?)
                  ("::"   . ?)
                  (":="   . ?)
                  (":≡"   . ?)
                  (":>"   . ?)
                  (":=>"  . ?)
                  ("<$>"  . ?)
                  ("<*"   . ?)
                  ("<*>"  . ?)
                  ("<+>"  . ?)
                  ;; ("<-"   . ?) ; I like different arrows (see below)
                  ("<<"   . ?)
                  ("<<<"  . ?)
                  ("<<="  . ?)
                  ("<="   . ?)
                  ;; ("<=>"  . ?) ; I like different arrows (see below)
                  ("<>"   . ?)
                  ("<|>"  . ?)
                  ("<<-"  . ?)
                  ("<|"   . ?)
                  ("<=<"  . ?)
                  ("<~~"  . ?)
                  ("<<~"  . ?)
                  ("<$"   . ?)
                  ("<+"   . ?)
                  ("<!>"  . ?)
                  ("<@>"  . ?)
                  ("<#>"  . ?)
                  ("<%>"  . ?)
                  ("<^>"  . ?)
                  ("<&>"  . ?)
                  ("<?>"  . ?)
                  ("<.>"  . ?)
                  ("</>"  . ?)
                  ("<\>"  . ?)
                  ("<\">" . ?)
                  ("<:>"  . ?)
                  ("<~>"  . ?)
                  ("<**>" . ?)
                  ("<<^"  . ?)
                  ("<!"   . ?)
                  ("<@"   . ?)
                  ("<#"   . ?)
                  ("<%"   . ?)
                  ("<^"   . ?)
                  ("<&"   . ?)
                  ("<?"   . ?)
                  ("<."   . ?)
                  ("</"   . ?)
                  ("<\\"  . ?)
                  ("<\""  . ?)
                  ("<:"   . ?)
                  ("<->"  . ?)
                  ("<!--" . ?)
                  ("<--"  . ?)
                  ("=<<"  . ?)
                  ("=="   . ?)
                  ("==="  . ?)
                  ;; ("==>"  . ?) ; I like different arrows (see below)
                  ;; ("=>"   . ?)  ; I like different arrows (see below)
                  ("=~"   . ?)
                  ("=>>"  . ?)
                  ("≡≡"   . ?)
                  ("≡≡≡"  . ?)
                  ("≡:≡"  . ?)
                  (">-"   . ?)
                  (">="   . ?)
                  (">>"   . ?)
                  (">>-"  . ?)
                  (">>="  . ?)
                  (">>>"  . ?)
                  (">=>"  . ?)
                  (">>^"  . ?)
                  ("??"   . ?)
                  ("?~"   . ?)
                  ("?="   . ?)
                  ("?>"   . ?)
                  ("^="   . ?)
                  ("^."   . ?)
                  ("^?"   . ?)
                  ("^.."  . ?)
                  ("^<<"  . ?)
                  ("^>>"  . ?)
                  ("^>"   . ?)
                  ("\\\\" . ?)
                  ("\\>"  . ?)
                  ("@>"   . ?)
                  ("|="   . ?)
                  ("||"   . ?)
                  ("|>"   . ?)
                  ("|||"  . ?)
                  ("|+|"  . ?)
                  ("~="   . ?)
                  ("~~>"  . ?)
                  ("~>>"  . ?)

                  ;; Personal preference: I like this set of arrows better than default
                  ("<-"   . ?🡐)
                  ("->"   . ?🡒)
                  ("=>"   . ?⇒)
                  ("<=>"  . ?⟺)
                  ("<==>" . ?⟺)
                  ("==>"  . ?⟹)
                  ("<=="  . ?⟸)
                  ("|->"  . ?⟼)
                  ("<-|"  . ?⟻)
                  ("|=>"  . ?⟾)
                  ("<=|"  . ?⟽)
                  ))))

(defun refresh-pretty ()
  (prettify-symbols-mode -1)
  (prettify-symbols-mode +1))

(setq prettify-symbols-unprettify-at-point 'right-edge)

;; Hooks for modes in which to install the Pragmata ligatures
(mapc (lambda (hook)
        (add-hook hook (lambda () (setup-pragmata-ligatures) (refresh-pretty))))
      '(text-mode-hook
        prog-mode-hook))
(global-prettify-symbols-mode +1)

